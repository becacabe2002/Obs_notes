## MÃ´ hÃ¬nh thiáº¿t káº¿ phÃ¢n táº§ng
### NguyÃªn táº¯c "chia Ä‘á»ƒ trá»‹"
* XÃ¡c Ä‘á»‹nh cÃ¡c nhiá»‡m vá»¥ cáº§n thá»±c hiá»‡n

* Tá»• chá»©c, Ä‘iá»u phá»‘i thá»© tá»± thá»±c hiá»‡n cÃ¡c nhiá»‡m vá»¥

* PhÃ¢n Ä‘á»‹nh ai lÃ m nhiá»‡m vá»¥ gÃ¬

* Äá»‘i vá»›i cÃ¡c bá»™ pháº­n Ä‘á»“ng cáº¥p: phÆ°Æ¡ng tiá»‡n vÃ  cÃ¡ch thá»©c trao Ä‘á»•i thÃ´ng tin giá»‘ng nhau.

### Trao Ä‘á»•i thÃ´ng tin giá»¯a cÃ¡c nÃºt máº¡ng
=> PhÃ¢n chia nhiá»‡m vá»¥ cho cÃ¡c thÃ nh pháº§n, tá»• chá»©c cÃ¡c thÃ nh pháº§n thÃ nh cÃ¡c táº§ng (layer)

### PhÃ¢n táº§ng
* Má»—i táº§ng
	* CÃ³ thá»ƒ cÃ³ **cÃ³ má»™t hoáº·c nhiá»u** chá»©c nÄƒng
	
	* Triá»ƒn khai dá»‹ch vá»¥ Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng:
		* **Cung cáº¥p** dá»‹ch vá»¥ cho **táº§ng trÃªn**
		* **Sá»­ dá»¥ng** dá»‹ch vá»¥ **táº§ng dÆ°á»›i**
		* **Äá»™c láº­p** vá»›i cÃ¡c táº§ng cÃ²n láº¡i
	
	* Má»—i dá»‹ch vá»¥ cÃ³ thá»ƒ cÃ³ má»™t hoáº·c nhiá»u cÃ¡ch triá»ƒn khai khÃ¡c nhau, cho phÃ©p táº§ng trÃªn lá»±a chá»n dá»‹ch vá»¥ phÃ¹ há»£p

***Lá»£i Ã­ch ğŸŸ¢***
* Dá»… dÃ ng thiáº¿t káº¿, triá»ƒn khai
* Dá»… dÃ ng tÃ¡i sá»­ dá»¥ng
* Dá»… dÃ ng nÃ¢ng cáº¥p

### Äiá»ƒm truy cáº­p dá»‹ch vá»¥ - Service Access Point (SAP)
> KhÃ¡i niá»‡m trá»«u tÆ°á»£ng, táº¡i Ä‘Ã³ táº§ng trÃªn sá»­ dá»¥ng dá»‹ch vá»¥ táº§ng dÆ°á»›i cung cáº¥p

* Táº§ng trÃªn chá»‰ quan tÃ¢m tá»›i **cÃ¡ch sá»­ dá»¥ng** dá»‹ch vá»¥ táº§ng dÆ°á»›i chá»© khÃ´ng quan tÃ¢m **cÃ¡ch thá»±c hiá»‡n**.

* Cung cáº¥p API
	* TÃªn hÃ m, cÃ¡c thá»©c truyá»n sá»‘ ko Ä‘á»•i
	* Ná»™i dung hÃ m cÃ³ thá»ƒ thay Ä‘á»•i.

## Truyá»n thÃ´ng trong kiáº¿n trÃºc phÃ¢n táº§ng
***CÃ¡c nguyÃªn lÃ½ chung***:
* Táº§ng trÃªn sá»­ dá»¥ng dá»‹ch vá»¥ táº§ng dÆ°á»›i
* CÃ¡c táº§ng ngang hÃ ng sá»­ dá»¥ng chung "ngÃ´n ngá»¯" vÃ  phÆ°Æ¡ng tiá»‡n trao Ä‘á»•i dá»¯ liá»‡u

### Dá»¯ liá»‡u Ä‘Æ°á»£c xá»­ lÃ½ táº¡i má»—i táº§ng ntn?
* Chia thÃ nh cÃ¡c **Ä‘Æ¡n vá»‹ dá»¯ liá»‡u giao thá»©c** - Protocol Data Unit (PDU) = **Header** (Ä‘á»‹a chá»‰, thÃ´ng tin cho hthá»‘ng máº¡ng) + **Payload** (dá»¯ liá»‡u cáº§n truyá»n táº£i)

* Chá»©c nÄƒng má»—i táº§ng khÃ¡c nhau -> cÃ¡ch thá»©c xá»­ lÃ½ khÃ¡c nhau -> cáº§n phá»‘i há»£p chá»©c nÄƒng giá»¯a cÃ¡c táº§ng trong quÃ¡ trÃ¬nh truyá»n táº£i.

![[Pasted image 20221102103301.png]]
ğŸ“¤***BÃªn gá»­i*** : thÃªm tiÃªu Ä‘á» chá»©a thÃ´ng tin phá»¥c vá»¥ cho viá»‡c xá»­ lÃ½ dá»¯ liá»‡u táº¡i táº§ng tÆ°Æ¡ng á»©ng vÃ  chuyá»ƒn cho táº§ng dÆ°á»›i (***ÄÃ³ng gÃ³i dá»¯ liá»‡u - Encapsulation***)
ğŸ“¥***BÃªn nháº­n*** : xá»­ lÃ½ dá»¯ liá»‡u theo **thÃ´ng tin trong pháº§n tiÃªu Ä‘á»**, tÃ¡ch tiÃªu Ä‘á» vÃ  chuyá»ƒn dá»¯ liá»‡u cho táº§ng trÃªn.

![[Pasted image 20221102103737.png]]

***NHáº¬N XÃ‰T***:
- PDU táº¡i cÃ¡c táº§ng Ä‘á»“ng cáº¥p cá»§a hai bÃªn giá»‘ng nhau ->truyá»n thÃ´ng giá»¯a cÃ¡c táº§ng ngang hÃ ng (truyá»n thÃ´ng logic)
- PhÃ­a nháº­n pháº£i hiá»ƒu ná»™i dung PDU cá»§a phÃ­a gá»­i 
- PhÃ­a nháº­n xá»­ lÃ½ PDU nháº­n Ä‘Æ°á»£c vá»›i cÃ¡c tham sá»‘ lÃ  thÃ´ng tin trong tiÃªu Ä‘á» mÃ  phÃ­a gá»­i Ä‘Ã£ thiáº¿t láº­p.
- PhÃ­a nháº­n tráº£ lá»i/khÃ´ng tráº£ lá»i cho phÃ­a gá»­i
- CÃ¡c PDU pháº£i truyá»n Ä‘Ãºng theo thá»© tá»± 
=> ***Cáº§n cÃ³ bá»™ quy táº¯c cho hai bÃªn.***

> ***Giao thá»©c (Network Protocol)*** - táº­p há»£p cÃ¡c quy táº¯c quy Ä‘á»‹nh **khuÃ´n dáº¡ng, ngá»¯ nghÄ©a, thá»© tá»±** cá»§a cÃ¡c **thÃ´ng Ä‘iá»‡p gá»­i/nháº­n** giá»¯a cÃ¡c nÃºt máº¡ng vÃ  cÃ¡c **hÃ nh vi** khi trao Ä‘á»•i cÃ¡c thÃ´ng Ä‘iá»‡p Ä‘Ã³.

### Chá»“ng giao thá»©c (Protocol stack)
* CÃ¡c chá»©c nÄƒng Ä‘Æ°á»£c phÃ¢n chia cho cÃ¡c táº§ng
	* Má»—i táº§ng cÃ³ nhiá»u cÃ¡ch thá»©c Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c chá»©c nÄƒng 
	-> sinh ra cÃ¡c giao thá»©c khÃ¡c nhau.

> NgÄƒn xáº¿p cÃ¡c giao thá»©c truyá»n thÃ´ng trÃªn kiáº¿n trÃºc phÃ¢n táº§ng.

* Giao thá»©c cá»§a má»—i táº§ng:
	* Gá»i dá»‹ch vá»¥ nÃ o cá»§a táº§ng dÆ°á»›i
	* Cung cáº¥p dá»‹ch vá»¥ cho giao thá»©c táº§ng trÃªn ntn

![[Pasted image 20221102110713.png]]
* CÃ¡c táº§ng Ä‘á»“ng cáº¥p á»Ÿ má»—i bÃªn sá»­ dá»¥ng **chung giao thá»©c** Ä‘á»ƒ Ä‘iá»u khiá»ƒn quÃ¡ trÃ¬nh truyá»n thÃ´ng logic giá»¯a chÃºng.
	* Hai cÃ¡ch thá»©c Ä‘á»ƒ Ä‘iá»u khiá»ƒn lÃ  [[Chap1.4 - Kiáº¿n trÃºc phÃ¢n táº§ng#Truyá»n thÃ´ng hÆ°á»›ng liÃªn káº¿t >< hÆ°á»›ng khÃ´ng liÃªn káº¿t]]

### Truyá»n thÃ´ng hÆ°á»›ng liÃªn káº¿t >< hÆ°á»›ng khÃ´ng liÃªn káº¿t
* Truyá»n thÃ´ng hÆ°á»›ng liÃªn káº¿t (connection oriented):
	* Dá»¯ liá»‡u Ä‘Æ°á»£c truyá»n qua 1 liÃªn káº¿t Ä‘Ã£ Ä‘Æ°á»£c thiáº¿t láº­p
	* Tin cáº­y
```mermaid
graph LR
	ob1[Thiáº¿t láº­p LK] -.-> ob2[Truyá»n dá»¯ liá»‡u] -.-> ob3[Huá»· LK]
```

* Truyá»n thÃ´ng hÆ°á»›ng khÃ´ng liÃªn káº¿t (connectionless)
	* KhÃ´ng thiáº¿t láº­p LK, chá»‰ cÃ³ giai Ä‘oáº¡n truyá»n dá»¯ liá»‡u
	* KhÃ´ng tin cáº­y
	* **"Best effort"** : truyá»n ngay vá»›i kháº£ nÄƒng tá»‘i Ä‘a

### Giao thá»©c Unicast, Multicast, Broadcast
> ***Unicast*** : giao thá»©c Ä‘khien truyá»n dá»¯ liá»‡u tá»›i 1 Ä‘Ã­ch
> ***Multicast*** : giao thá»©c Ä‘iá»u khiá»ƒn truyá»n dá»¯ liá»‡u tá»›i nhiá»u Ä‘Ã­ch
> ***Broadcast*** : giao thá»©c Ä‘iá»u khiá»ƒn truyá»n dá»¯ liá»‡u tá»›i má»i Ä‘Ã­ch

## MÃ´ hÃ¬nh OSI vÃ  TCP/IP
### MÃ´ hÃ¬nh OSI/ISO
1. ***Táº§ng á»©ng dá»¥ng (Application)***: cung cáº¥p cÃ¡c á»©ng dá»¥ng trÃªn máº¡ng 
2. ***Táº§ng trÃ¬nh diá»…n (Presentation)*** : biá»ƒu diá»…n dá»¯ liá»‡u cá»§a á»©ng dá»¥ng (mÃ£ hoÃ¡, nÃ©n, chuyá»ƒn Ä‘á»•i)
3. ***Táº§ng phiÃªn (Session)***: quáº£n lÃ½ phiÃªn lÃ m viá»‡c, Ä‘á»“ng bá»™ hoÃ¡ phiÃªn, khÃ´i phá»¥c quÃ¡ trÃ¬nh trao Ä‘á»•i dá»¯ liá»‡u
4. ***Táº§ng giao váº­n (Transport)*** : xá»­ lÃ½ viá»‡c truyá»n - nháº­n dá»¯ liá»‡u cho cÃ¡c á»©ng dá»¥ng cháº¡y trÃªn cÃ¡c nÃºt máº¡ng Ä‘áº§u - cuá»‘i.
5. ***Táº§ng máº¡ng (Network)*** : chá»n Ä‘Æ°á»ng (Ä‘á»‹nh tuyáº¿n), chuyá»ƒn tiáº¿p gÃ³i tin tá»« nguá»“n Ä‘áº¿n Ä‘Ã­ch.
6. ***Táº§ng liÃªn káº¿t dá»¯ liá»‡u (Data link)*** : truyá»n dá»¯ liá»‡u trÃªn cÃ¡c lk váº­t lÃ½ giá»¯a cÃ¡c nÃºt máº¡ng káº¿ tiáº¿p nhau
7. ***Táº§ng váº­t lÃ½ (Physical)*** : Chuyá»ƒn dá»¯ liá»‡u (bit) thÃ nh tÃ­n hiá»‡u vÃ  truyá»n

* MÃ´ hÃ¬nh OSI lÃ  mÃ´ hÃ¬nh **tham chiáº¿u chá»©c nÄƒng** (cÃ¡c mÃ´ hÃ¬nh khÃ¡c pháº£i tham chiáº¿u tá»« OSI: cung cáº¥p Ä‘á»§ cÃ¡c chá»©c nÄƒng nhÆ° OSI, Ä‘Ãºng thá»© tá»± cÃ¡c táº§ng)

* Tuy nhiÃªn, mÃ´ hÃ¬nh láº¡i chá»‰ cÃ³ Ã½ nghÄ©a vá» máº·t cÆ¡ sá»Ÿ lÃ½ thuyáº¿t, **khÃ´ng sá»­ dá»¥ng trÃªn thá»±c táº¿**.

### MÃ´ hÃ¬nh TCP/IP
> MÃ´ hÃ¬nh Internet, Ä‘Æ°á»£c sá»­ dá»¥ng trÃªn háº§u háº¿t cÃ¡c há»‡ thá»‘ng máº¡ng

![[chap1_4 - TCP_IP model.png]]

### Triá»ƒn khai kiáº¿n trÃºc phÃ¢n táº§ng
* ***NÃºt máº¡ng Ä‘áº§u cuá»‘i (end-system)***: PC, server, smartphone...
* ***NÃºt máº¡ng trung gian*** : cÃ¡c thiáº¿t bá»‹ máº¡ng chuyá»ƒn tiáº¿p dá»¯ liá»‡u (Hub, Switch, Router)

![[ChÆ°Æ¡ng 1 - Tá»•ng quan.pptx-pages-105-107.pdf]]

### Chá»“ng giao thá»©c TCP/IP

![[Pasted image 20221102203550.png]]

>***Dáº¡ng "Ä‘á»“ng há»“ cÃ¡t"*** : sá»­ dá»¥ng **duy nháº¥t 1 giao thá»©c liÃªn máº¡ng (IP - Internet Protocol)** táº¡i táº§ng máº¡ng.

*  Cho phÃ©p má»™t há»‡ thá»‘ng máº¡ng má»›i sá»­ dá»¥ng cÃ´ng nghá»‡ truyá»n dáº«n báº¥t ká»³ káº¿t ná»‘i vá»›i há»‡ thá»‘ng máº¡ng hiá»‡n táº¡i
* TÃ¡ch rá»i phÃ¡t triá»ƒn á»©ng dá»¥ng á»Ÿ táº§ng cao vá»›i cÃ´ng nghá»‡ truyá»n dáº«n cÃ¡c táº§ng tháº¥p (IP-based apps)
* Há»— trá»£ thay Ä‘á»•i song song cÃ¡c cÃ´ng nghá»‡ á»Ÿ trÃªn vÃ  dÆ°á»›i IP

âš ï¸ *Tuy nhiÃªn, khÃ³ Ä‘á»ƒ nÃ¢ng cáº¥p báº£n thÃ¢n giao thá»©c IP (IPv4 -> IPv6)*

### CÃ i Ä‘áº·t TCP/IP trÃªn há»‡ thá»‘ng máº¡ng
![[Pasted image 20221102213020.png]]

### ÄÃ³ng gÃ³i trÃªn chá»“ng giao thá»©c TCP/IP
![[ChÆ°Æ¡ng 1 - Tá»•ng quan.pptx-pages-111-121.pdf]]

## Äá»‹nh danh trong TCP/IP
> ***Äá»‹nh danh*** - giÃ¡ trá»‹ cho phÃ©p xÃ¡c Ä‘á»‹nh 1 ngÆ°á»i hay 1 Ä‘á»‘i tÆ°á»£ng.

***CÃ¢y phÃ¢n cáº¥p*** : 
* Cho phÃ©p quáº£n lÃ½ má»™t cÃ¡ch logic vÃ  hiá»‡u quáº£ má»™t khÃ´ng gian Ä‘á»‹a chá»‰ khá»•ng lá»“
* CÃ³ tÃ­nh má»Ÿ rá»™ng
![[Pasted image 20221102213723.png]]

### Äá»‹nh danh trÃªn kiáº¿n trÃºc phÃ¢n táº§ng
* Báº±ng viá»‡c gÃ¡n cho cÃ¡c Ä‘á»‘i tÆ°á»£ng (dá»‹ch vá»¥, mÃ¡y tráº¡m, thiáº¿t bá»‹ máº¡ng) má»™t giÃ¡ trá»‹ riÃªng:
	* PhÃ¢n biá»‡t cÃ¡c Ä‘á»‘i tÆ°á»£ng trong há»‡ thá»‘ng
	* XÃ¡c Ä‘á»‹nh Ä‘iá»ƒm xuáº¥t phÃ¡t vÃ  Ä‘Ã­ch Ä‘áº¿n cá»§a dá»¯ liá»‡u

* Má»—i táº§ng cÃ³ má»™t nhiá»‡m vá»¥ khÃ¡c nhau Ä‘á»ƒ **Ä‘iá»u khiá»ƒn viá»‡c truyá»n thÃ´ng tin giá»¯a nhá»¯ng Ä‘á»‘i tÆ°á»£ng khÃ¡c nhau** -> cÃ³ cÃ¡c quy cháº¿ Ä‘á»‹nh danh khÃ¡c nhau
	* Má»™t Ä‘á»‘i tÆ°á»£ng cÃ³ thá»ƒ mang nhiá»u Ä‘á»‹nh danh -> cáº§n cÆ¡ cháº¿ **phÃ¢n giáº£i** Ä‘á»ƒ  tÃ¬m kiáº¿m Ä‘á»‹nh danh cá»§a Ä‘á»‘i tÆ°á»£ng á»Ÿ táº§ng nÃ y khi Ä‘Ã£ biáº¿t Ä‘á»‹nh danh á»Ÿ táº§ng khÃ¡c.

![[Pasted image 20221102214807.png]]
> ***Domain name*** - Ä‘á»‹nh danh sá»­ dá»¥ng trÃªn táº§ng á»©ng dá»¥ng 

 - Chuá»—i kÃ­ tá»± gá»i nhá»›
 - NgÆ°á»i dÃ¹ng sá»­ dá»¥ng khi truy cáº­p dá»‹ch vá»¥ trÃªn táº§ng á»©ng dá»¥ng
- Ko cÃ³ Ã½ nghÄ©a khi truyá»n dá»¯ liá»‡u giá»¯a cÃ¡c nÃºt máº¡ng
- CÃ³ sá»± phÃ¢n cáº¥p

> ***Port number*** - Ä‘á»‹nh danh sá»­ dá»¥ng trÃªn táº§ng giao váº­n

* 16 bit
* Má»™t chá»‰ sá»‘ phá»¥, dÃ¹ng kÃ¨m theo Ä‘á»‹a chá»‰ IP
* CÃ¡c á»©ng dá»¥ng Ä‘Æ°á»£c Ä‘á»‹nh danh bá»Ÿi **1 Ä‘á»‹a chá»‰ IP** vÃ  **má»™t sá»‘ hiá»‡u cá»•ng**

> ***IP Address*** - Ä‘á»‹nh danh dÃ¹ng trÃªn táº§ng máº¡ng

* GiÃ¡ trá»‹ phá»¥ thuá»™c tá»«ng máº¡ng, má»—i card máº¡ng Ä‘Æ°á»£c gÃ¡n 1 Ä‘á»‹a chá»‰ IP
* Äá»‹nh danh 1 mÃ¡y tÃ­nh trÃªn 1 máº¡ng IP
VD: 133.113.215.10 (ipv4); 2001:200:0:8803::53 (ipv6)

> ***Physical Address/MAC address*** - sá»­ dá»¥ng trÃªn táº§ng liÃªn káº¿t dá»¯ liá»‡u
* CÃ³ kÃ­ch thÆ°á»›c 48 bit
* Cá»‘ Ä‘á»‹nh trÃªn card máº¡ng NIC
* Sá»­ dá»¥ng Ä‘á»ƒ Ä‘á»‹nh danh mÃ¡y tÃ­nh trong máº¡ng cá»¥c bá»™ (PhÃ¢n biá»‡t cÃ¡c nÃºt khÃ¡c nhau trong cÃ¹ng máº¡ng)

![[Pasted image 20221102225255.png]]

## Tá»•ng káº¿t vá» phÃ¢n táº§ng & chá»“ng giao thá»©c
### Kháº£ nÄƒng cá»™ng tÃ¡c
* Ráº¥t nhiá»u cÃ´ng nghá»‡ Ä‘Æ°á»£c triá»ƒn khai theo nhiá»u cÃ¡ch khÃ¡c nhau  trÃªn cÃ¡c nÃºt máº¡ng
* LuÃ´n thay Ä‘á»•i nhÆ°ng váº«n cÃ³ thá»ƒ trao Ä‘á»•i vÃ¬ dÃ¹ng chung giao thá»©c

### Trá»«u tÆ°á»£ng vÃ  tÃ¡i sá»­ dá»¥ng
* Má»—i táº§ng cÃ³ nhiá»u lá»±a chá»n giao thá»©c Ä‘á»ƒ sá»­ dá»¥ng
* NhÆ°ng á»Ÿ gÃ³c nhÃ¬n cá»§a táº§ng á»©ng dá»¥ng:
	* CÃ¡c giao thá»©c cung cáº¥p API chuáº©n Ä‘á»ƒ phÃ¡t triá»ƒn á»©ng dá»¥ng
	* CÃ¡c táº§ng tháº¥p "trong suá»‘t" vá»›i táº§ng á»©ng dá»¥ng

### Trong suá»‘t
* CÃ´ng nghá»‡ trÃªn má»—i táº§ng thá»±c hiá»‡n cÃ¡c phÆ°Æ¡ng thá»©c truyá»n thÃ´ng khÃ¡c nhau
* Thay tháº¿ cÃ´ng nghá»‡ á»Ÿ cÃ¡c táº§ng cÃ³ thá»ƒ thá»±c hiá»‡n song song (miá»…n lÃ  giá»¯ nguyÃªn SAP), thay tháº¿ á»Ÿ má»™t táº§ng ko áº£nh hÆ°á»Ÿng tá»›i cÃ¡c táº§ng khÃ¡c.

### Háº¡n cháº¿
* Má»™t sá»‘ thÃ´ng tin á»Ÿ táº§ng dÆ°á»›i bá»‹ â€œáº©nâ€ (do tÃ­nh trong suá»‘t) Ä‘á»‘i vá»›i táº§ng trÃªn cÃ³ tháº¿ lÃ m giáº£m hiá»‡u nÄƒng hoáº¡t Ä‘á»™ng cá»§a táº§ng trÃªn (vÃ  do Ä‘Ã³ lÃ m giáº£m hiá»‡u nÄƒng hoáº¡t Ä‘á»™ng cá»§a máº¡ng)
VÃ­ dá»¥: TCP pháº£i kiá»ƒm soÃ¡t táº¯c ngháº½n trÃªn Ä‘Æ°á»ng truyá»n

* Pháº§n tiÃªu Ä‘á» cÃ³ kÃ­ch thÆ°á»›c Ä‘Ã¡ng ká»ƒ trong gÃ³i tin

* Má»™t sá»‘ cÃ´ng nghá»‡ táº§ng dÆ°á»›i cÃ³ thá»ƒ lÃ m giao thá»©c táº§ng trÃªn thá»±c hiá»‡n khÃ³ khÄƒn hÆ¡n:
VÃ­ dá»¥: TCP trÃªn máº¡ng khÃ´ng dÃ¢y

* <mark>TCP/IP khÃ´ng cÃ³ cÃ¡c cÆ¡ cháº¿ an toÃ n báº£o máº­t thÃ´ng tin </mark>